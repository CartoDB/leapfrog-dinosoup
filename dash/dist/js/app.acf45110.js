(function(t){function a(a){for(var n,o,c=a[0],p=a[1],r=a[2],u=0,d=[];u<c.length;u++)o=c[u],i[o]&&d.push(i[o][0]),i[o]=0;for(n in p)Object.prototype.hasOwnProperty.call(p,n)&&(t[n]=p[n]);l&&l(a);while(d.length)d.shift()();return s.push.apply(s,r||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],n=!0,c=1;c<e.length;c++){var p=e[c];0!==i[p]&&(n=!1)}n&&(s.splice(a--,1),t=o(o.s=e[0]))}return t}var n={},i={app:0},s=[];function o(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=n,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)o.d(e,n,function(a){return t[a]}.bind(null,n));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],p=c.push.bind(c);c.push=a,c=c.slice();for(var r=0;r<c.length;r++)a(c[r]);var l=p;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0418":function(t,a,e){"use strict";var n=e("c582"),i=e("ad21"),s=(e("2c1b"),e("2877")),o=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"5c55a268",null);o.options.__file="Header.vue",a["default"]=o.exports},"0c33":function(t,a,e){"use strict";var n=e("edfa"),i=e.n(n);i.a},"10a1":function(t,a,e){"use strict";var n=e("d203"),i=e.n(n);i.a},2856:function(t,a,e){},"2c1b":function(t,a,e){"use strict";var n=e("4dc6"),i=e.n(n);i.a},"38bd":function(t,a,e){t.exports=e.p+"img/python-logo.fbef321e.svg"},"44df":function(t,a,e){t.exports=e.p+"img/js-logo.94cafb0d.svg"},"4a47":function(t,a,e){},"4dc6":function(t,a,e){},"4e1e":function(t,a,e){t.exports=e.p+"img/app-01.3a63ed5c.png"},"54e4":function(t,a,e){"use strict";var n=e("4a47"),i=e.n(n);i.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("097d");var n=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[t.showNewAppDialog?e("div",{staticClass:"fullscreen"},[e("AppDialog")],1):t._e(),e("Header"),e("MainContent")],1)},s=[],o=e("0418"),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"main-content"},[e("ApplicationList")],1)},p=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"application-list"},[e("svg",{staticClass:"apps-icon"},[t._v('xmlns="http://www.w3.org/2000/svg" width="24" height="24">'),e("path",{attrs:{d:"M 0 0 L 24 0 L 24 24.001 L 0 24.001 Z",fill:"transparent"}}),e("path",{attrs:{d:"M 20.555 17.832 C 20.833 17.646 21 17.334 21 17 L 21 3 C 21.001 2.631 20.799 2.291 20.473 2.117 C 20.148 1.943 19.753 1.962 19.446 2.168 L 14.054 5.763 L 9.625 2.219 C 9.454 2.092 9.248 2.018 9.035 2.008 C 8.827 2.002 8.622 2.058 8.445 2.168 L 2.445 6.168 C 2.167 6.354 2 6.666 2 7 L 2 21 C 2 21.369 2.203 21.708 2.528 21.882 C 2.853 22.056 3.248 22.037 3.555 21.832 L 8.947 18.238 L 13.376 21.781 C 13.556 21.926 13.777 22 14 22 C 14.198 22.007 14.392 21.944 14.549 21.824 Z M 4 7.535 L 8 4.869 L 8 16.465 L 4 19.132 Z M 13 18.92 L 10 16.52 L 10 5.082 L 13 7.481 Z M 19 16.465 L 15 19.132 L 15 7.535 L 19 4.869 Z",fill:"#2E3C43"}})]),e("h2",{staticClass:"text-title text-bold"},[t._v("Your applications")]),e("ul",{staticClass:"cards"},[e("li",[e("AddAppCard")],1),t._l(t.apps,function(t){return e("li",{key:t.name},[e("ApplicationCard",{attrs:{app:t}})],1)})],2)])},l=[],u=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"application-card",on:{click:t.handleClick}},[n("div",{staticClass:"application-content"},[n("img",{staticClass:"image",attrs:{src:e("4e1e")}}),n("div",{staticClass:"name"},[t._v(t._s(t.app.name))]),n("div",{staticClass:"description"},[t._v(t._s(t.app.description))]),n("div",{staticClass:"info"},[n("div",{staticClass:"url"},[n("a",{attrs:{href:"#"}},[t._v(t._s(t.app.domain))])]),n("div",[t._v("Last deploy "),n("span",{staticClass:"text-bold"},[t._v(t._s(t.lastDeployText))])]),n("div",[t._v(t._s(t.app.size))])]),n("div",{staticClass:"logo-container"},[n("StackLogo",{attrs:{tech:t.app.stack}})],1)]),n("div",{staticClass:"state"},[n("p",[t._v(t._s(t.stateText))])])])},d=[],f=(e("7f7f"),e("b166")),v=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"logo"},["python"===t.tech?n("img",{staticClass:"logo-img",attrs:{src:e("38bd")}}):t._e(),"js"===t.tech?n("img",{staticClass:"logo-img",attrs:{src:e("44df")}}):t._e()])},m=[],h={name:"stack-logo",props:{tech:String}},g=h,_=(e("9600"),e("2877")),b=Object(_["a"])(g,v,m,!1,null,"74aff246",null);b.options.__file="StackLogo.vue";var C=b.exports,A={name:"application-card",components:{StackLogo:C},props:{app:Object},computed:{lastDeployText:function(){return Object(f["a"])(new Date(this.app.lastDeploy),"MM/dd/yyyy")},stateText:function(){return this.app.state?this.app.state:"No info about state"}},methods:{handleClick:function(){this.$store.dispatch("loadAddAndOpenDialog",this.app.name)}}},y=A,D=(e("54e4"),Object(_["a"])(y,u,d,!1,null,"44b17d40",null));D.options.__file="ApplicationCard.vue";var L=D.exports,x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"application-card",on:{click:t.handleClick}},[t._m(0)])},O=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message"},[e("p",{staticClass:"plus-sign"},[t._v("+")]),e("p",[t._v("Add a new LI APP")])])}],j={name:"add-app-card",components:{},props:{app:Object},computed:{},methods:{handleClick:function(){this.$store.commit("openDialog")}}},k=j,w=(e("e4dd"),Object(_["a"])(k,x,O,!1,null,"3b85c041",null));w.options.__file="AddAppCard.vue";var $=w.exports,I={name:"application-list",components:{ApplicationCard:L,AddAppCard:$},computed:{apps:function(){return this.$store.state.apps}}},S=I,M=(e("0c33"),Object(_["a"])(S,r,l,!1,null,"46062593",null));M.options.__file="ApplicationList.vue";var E=M.exports,P={name:"main-content",components:{ApplicationList:E}},T=P,N=(e("10a1"),Object(_["a"])(T,c,p,!1,null,"eeab7c86",null));N.options.__file="MainContent.vue";var V=N.exports,Z=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"dialog"},[n("div",{staticClass:"overlay"}),n("div",{staticClass:"box"},[n("div",{staticClass:"close",on:{click:t.closeDialog}},[n("img",{staticClass:"close-icon",attrs:{src:e("bf37")}})]),n("h2",{staticClass:"text-title text-bold"},[t._v(t._s(t.formattedAppName))]),t.activeApp.name?n("div",{staticClass:"info"},[n("div",{staticClass:"description"},[t._v(t._s(t.activeApp.description))]),n("div",{staticClass:"block"},[n("div",{staticClass:"label"},[t._v("Deploy instructions")]),n("ul",{staticClass:"instructions"},t._l(t.activeApp.deploy_instructions,function(a,e){return n("li",{key:e},[n("div",{staticClass:"instruction mono"},[t._v(t._s(a))])])}))]),n("div",{staticClass:"block"},[n("div",{staticClass:"label"},[t._v("Your application URL")]),n("div",{staticClass:"app-url"},[n("a",{attrs:{href:t.activeApp.url}},[t._v(t._s(t.activeApp.url))])])]),n("div",{staticClass:"block"},[n("div",{staticClass:"label"},[t._v("Stack")]),n("StackLogo",{attrs:{tech:t.activeApp.stack}})],1),n("div",{staticClass:"block deploys"},[n("div",{staticClass:"label"},[t._v("Deploys")]),t._l(t.activeApp.deploys_list,function(a,e){return n("div",{key:e,staticClass:"deploy"},[n("div",{staticClass:"hash"},[n("a",{attrs:{href:"#"}},[t._v(t._s(a.commit_hash_abbreviated))])]),n("div",{staticClass:"created_at"},[t._v(t._s(a.created_at))]),n("StatusTag",{attrs:{status:a.status}})],1)})],2)]):n("div",[n("div",{staticClass:"form"},[n("div",{staticClass:"input-field"},[n("label",[t._v("Application name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}})]),n("div",{staticClass:"input-field"},[n("label",[t._v("Description")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],domProps:{value:t.description},on:{input:function(a){a.target.composing||(t.description=a.target.value)}}})])]),n("button",{staticClass:"button",on:{click:t.createApp}},[t._v("Create application")])])])])},H=[],J=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:t.classObject},[t._v("\n  "+t._s(t.status)+"\n")])},Y=[],z={props:{status:String},computed:{classObject:function(){var t={};return t[this.status]=!0,t}}},B=z,F=(e("8a23"),Object(_["a"])(B,J,Y,!1,null,"4fc6afe0",null));F.options.__file="StatusTag.vue";var R=F.exports,U={components:{StackLogo:C,StatusTag:R},data:function(){return{name:"",description:""}},computed:{formattedAppName:function(){var t=this.$store.getters.activeApp;return t.name?t.name:"Create new LI application"},activeApp:function(){return this.$store.getters.activeApp}},mounted:function(){var t=this;this.intervalId=setInterval(function(){t.$store.state.appDialogId&&t.$store.dispatch("updateApp",t.$store.state.appDialogId)},2e3)},beforeDestroy:function(){clearInterval(this.intervalId)},methods:{closeDialog:function(){this.$store.commit("closeAppDialog")},createApp:function(){this.$store.dispatch("createApp",{name:this.name,description:this.description})}}},q=U,G=(e("a962"),Object(_["a"])(q,Z,H,!1,null,"516f66ba",null));G.options.__file="AppDialog.vue";var K=G.exports,Q={name:"app",components:{Header:o["default"],MainContent:V,AppDialog:K},computed:{showNewAppDialog:function(){return this.$store.state.appDialogVisible}},created:function(){this.$store.dispatch("initialLoad")}},W=Q,X=(e("5c0b"),Object(_["a"])(W,i,s,!1,null,null,null));X.options.__file="App.vue";var tt=X.exports,at=e("c93e"),et=(e("ac6a"),e("f3e2"),e("2f62")),nt="http://carto.ku:8000",it="wadus",st="apps",ot={getApp:function(t){var a="".concat(nt,"/").concat(it,"/").concat(st,"/").concat(t);return fetch(a,{mode:"cors"}).then(function(t){return t.json()}).then(function(t){return console.log(t.deploys_list.length),t}).catch(function(t){console.error(t)})},getApps:function(){var t="".concat(nt,"/").concat(it,"/").concat(st);return fetch(t,{mode:"cors"}).then(function(t){return t.json()}).then(function(t){return t.apps.reverse()}).catch(function(t){console.error(t)})},createApp:function(t,a){var e="".concat(nt,"/").concat(it,"/").concat(st),n=new FormData;return n.append("name",t),n.append("description",a),fetch(e,{method:"POST",body:n}).then(function(t){return t.json()}).then(function(t){return t})}};n["a"].use(et["a"]);var ct={appDialogVisible:!1,appDialogId:null,apps:[]},pt={activeApp:function(t){if(console.log("BOOM!"),!t.appDialogId)return{};var a=-1;return t.apps.forEach(function(e,n){e.name===t.appDialogId&&-1===a&&(a=n)}),a>-1?(t.apps[a].deploys_list.length>0&&console.log("mierda"),t.apps[a]):{}},getVisible:function(t){return t.appDialogVisible}},rt={setActiveApp:function(t,a){t.appDialogId=a},closeAppDialog:function(t){t.appDialogVisible=!1},loadApps:function(t,a){t.apps=a},updateAppInfo:function(t,a){var e=-1;t.apps.forEach(function(t,n){t.name===a.name&&-1===e&&(e=n)}),e>-1?t.apps[e]=Object(at["a"])({},t.apps[e],a):t.apps.push(a)},updateCommitList:function(t,a){var e=-1;t.apps.forEach(function(t,n){t.name===a.name&&-1===e&&(e=n)}),e>-1&&(t.apps[e].deploys_list=a.deploys_list,t.appDialogId="",t.appDialogId=a.name)},openDialog:function(t,a){t.appDialogId=a,t.appDialogVisible=!0}},lt={initialLoad:function(t){var a=t.commit;ot.getApps().then(function(t){a("loadApps",t)})},createApp:function(t,a){var e=t.commit,n=t.dispatch;ot.createApp(a.name,a.description).then(function(t){e("setActiveApp",t.name),n("initialLoad")})},loadAddAndOpenDialog:function(t,a){var e=t.commit;ot.getApp(a).then(function(t){e("updateAppInfo",t),e("openDialog",t.name)})},updateApp:function(t,a){var e=t.commit;ot.getApp(a).then(function(t){e("updateAppInfo",t)})},updateCommitList:function(t,a){var e=t.commit;ot.getApp(a).then(function(t){e("updateCommitList",t)})}},ut=new et["a"].Store({state:ct,getters:pt,mutations:rt,actions:lt});n["a"].config.productionTip=!1,new n["a"]({store:ut,render:function(t){return t(tt)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";var n=e("2856"),i=e.n(n);i.a},7441:function(t,a,e){},8506:function(t,a,e){},"8a23":function(t,a,e){"use strict";var n=e("8506"),i=e.n(n);i.a},"926d":function(t,a,e){},9600:function(t,a,e){"use strict";var n=e("7441"),i=e.n(n);i.a},a962:function(t,a,e){"use strict";var n=e("bf58"),i=e.n(n);i.a},ad21:function(t,a,e){"use strict";var n=e("e504"),i=e.n(n);a["default"]=i.a},bf37:function(t,a,e){t.exports=e.p+"img/close.c4c396d3.svg"},bf58:function(t,a,e){},c582:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",{staticClass:"header"})},i=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return i})},d203:function(t,a,e){},e4dd:function(t,a,e){"use strict";var n=e("926d"),i=e.n(n);i.a},e504:function(t,a){},edfa:function(t,a,e){}});
//# sourceMappingURL=app.acf45110.js.map